import{a as P,t as j}from"../chunks/disclose-version.CjieH5zv.js";import"../chunks/legacy.0kSp2tK0.js";import{aE as R,l as n,s as G,ac as I,m as r,g as e,aF as M,a5 as h,G as E,J as F,av as N,aa as q,aG as U,aH as V,e as W}from"../chunks/runtime.CuEH_eaS.js";import{i as L}from"../chunks/lifecycle.B7sIu-hY.js";import{p as x,i as Y}from"../chunks/props.BEVo-pAd.js";import{o as Z}from"../chunks/index-client.HV5y0lW-.js";import{s as D}from"../chunks/render.DYYjuPAP.js";import{e as B,i as J}from"../chunks/Tooltip.svelte_svelte_type_style_lang.bG-MgEn5.js";import{e as A}from"../chunks/events.ByYqDUyK.js";import{t as T}from"../chunks/class.Bvena8yX.js";import{s as z,h as $}from"../chunks/attributes.fxCn_VSR.js";import"../chunks/paths.COABjCfs.js";var ee=j('<div><div class="tooltip svelte-mw3vg1"><div class="tooltip-content"><p class="svelte-mw3vg1">Place: <br><span class="hover-value svelte-mw3vg1"> </span></p> <p class="svelte-mw3vg1">Position: <br><span class="hover-value svelte-mw3vg1"> </span></p></div></div></div>');function te(f,i){let v=x(i,"place",8),g=x(i,"position",8),d=M(),c=M();const _={front:"Giving their back to the artwork",back:"Facing the artwork",sitting:"Sitting",side:"On their side",other:"Unusual"},m={tate:"Tate Modern",mplusmuseum:"M+ Museum",centrepompidou:"Centre Pompidou",institutotomieohtake:"Instituto Tomie Ohtake",themuseumofmodernart:"MoMA",mca_australia:"MCA Australia"};function w(p){h(d,p.pageX+5),h(c,p.pageY+5)}function y(p){return _[p]||m[p]||p}var t=ee();A("mousemove",R.body,w);var o=n(t),u=n(o),s=n(u),b=G(n(s),2),H=n(b,!0);I(()=>D(H,y(v()))),r(b),r(s);var a=G(s,2),C=G(n(a),2),l=n(C,!0);I(()=>D(l,y(g()))),r(C),r(a),r(u),r(o),r(t),I(()=>z(o,"style",`left: ${e(d)??""}px; top: ${e(c)??""}px;`)),P(f,t)}function ae({data:f}){return{...f,images:f.images||[]}}const Me=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));var re=j('<div class="category"><button class="svelte-4jpnf4"> </button></div>'),ie=j('<div><div class="filter-container svelte-4jpnf4"></div></div>');function oe(f,i){E(i,!1);let v=x(i,"categories",24,()=>[]),g=x(i,"selectedCategory",12,null),d=x(i,"imageCounts",24,()=>({}));function c(t){g()===t.category?g(null):g(t.category)}function _(t){return g()===t.category&&d()[t.category]>0}function m(t){return d()[t.category]===0}L();var w=ie(),y=n(w);B(y,5,v,J,(t,o)=>{var u=re(),s=n(u);I(()=>s.disabled=m(e(o)));const b=N(()=>_(e(o)));var H=n(s,!0);r(s),r(u),I(()=>{T(s,"active",e(b)),D(H,e(o).name)}),A("click",s,()=>c(e(o))),P(t,u)}),r(y),r(w),P(f,w),F()}var se=j('<img class="gallery-image svelte-1mwnvd5" loading="lazy">'),le=j("<!> <!>",1),ne=j("<p>No images</p>"),ce=j('<div class="gallery svelte-1mwnvd5"><p class="gallery-title svelte-1mwnvd5"> </p> <!></div>');function ve(f,i){E(i,!1);let v=x(i,"images",24,()=>[]),g=x(i,"title",8,""),d=x(i,"selectedCategory",24,()=>[]),c=M([]),_=M([]),m=M(!1);function w(a){window.open(a,"_blank")}function y(a){return d()?a.category===d():!1}L();var t=ce(),o=n(t),u=n(o,!0);r(o);var s=G(o,2);{var b=a=>{var C=le(),l=q(C);B(l,1,v,J,(S,O)=>{var k=se();const K=N(()=>y(e(O))),Q=N(()=>!y(e(O))&&d());I(()=>{z(k,"src",e(O).src),z(k,"alt",`${e(O).type??""} image`),T(k,"highlighted",e(K)),T(k,"notHighlighted",e(Q))}),$(k),A("click",k,()=>w(e(O).link)),A("mouseover",k,()=>{h(c,e(O).museum),h(_,e(O).category),h(m,!0)}),A("mouseleave",k,()=>h(m,!1)),P(S,k)});var p=G(l,2);{var X=S=>{te(S,{get place(){return e(c)},get position(){return e(_)}})};Y(p,S=>{e(m)&&S(X)})}P(a,C)},H=a=>{var C=ne();P(a,C)};Y(s,a=>{v().length>0?a(b):a(H,!1)})}r(t),I(()=>D(u,g())),P(f,t),F()}var de=j('<div class="top-container"><p class="title svelte-1t5w66j">How were people positioned in their pictures with artwork?</p> <div class="filter-container svelte-1t5w66j"><!></div></div> <div class="gallery-container svelte-1t5w66j"><!></div>',1);function xe(f,i){E(i,!1);const v=M(),g=M();let d=x(i,"data",8),c=M([]),_=M(null),m=!1;const w=50;let y=[{category:"front",name:"Giving their back to the artwork"},{category:"back",name:"Facing the artwork"},{category:"sitting",name:"Sitting"},{category:"side",name:"On their side"},{category:"other",name:"Unusual"}];function t(){if(m)return;m=!0;const l=e(v).slice(e(c).length,e(c).length+w);h(c,[...e(c),...l]),m=!1}function o(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight-500&&t()}Z(async()=>(t(),window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o))),U(()=>(e(v),W(d())),()=>{(l=>h(v,l.images))(d())}),U(()=>e(v),()=>{h(g,e(v).reduce((l,p)=>(l[p.category]=(l[p.category]||0)+1,l),{}))}),V(),L();var u=de(),s=q(u),b=G(n(s),2),H=n(b);oe(H,{categories:y,get imageCounts(){return e(g)},currentPage:"",get selectedCategory(){return e(_)},set selectedCategory(l){h(_,l)},$$legacy:!0}),r(b),r(s);var a=G(s,2),C=n(a);ve(C,{get images(){return e(c)},get selectedCategory(){return e(_)}}),r(a),P(f,u),F()}export{xe as component,Me as universal};
