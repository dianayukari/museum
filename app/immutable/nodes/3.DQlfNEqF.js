import{b as x,t as P}from"../chunks/disclose-version.HiIwPN65.js";import"../chunks/legacy.D2sCPQll.js";import{_ as se,$ as le,a7 as m,a9 as A,a5 as oe,a6 as M,a8 as i,g as e,at as K,aD as ie,aE as u,ae as n,aF as J,aG as ge,aH as de,e as ue}from"../chunks/runtime.B20LAbYP.js";import{s as B}from"../chunks/render.DRXZaZAN.js";import{p as C,i as re}from"../chunks/props.DeW7yZnY.js";import{s as $,h as ve}from"../chunks/attributes.CE-n-lyX.js";import{e as G}from"../chunks/events.Bw_jB2BG.js";import{i as ce}from"../chunks/lifecycle.GNv-g9Jb.js";import{o as fe}from"../chunks/index-client.CRfBdOk3.js";import{e as V,i as Z}from"../chunks/each.BLeZ8EyK.js";/* empty css                                                      */import{b as ye}from"../chunks/paths.VpeDOjCh.js";function Q(v,r,h){if(h){if(v.classList.contains(r))return;v.classList.add(r)}else{if(!v.classList.contains(r))return;v.classList.remove(r)}}function me({data:v}){return{...v,taggedImages:v.taggedImages||[],postedImages:v.postedImages||[]}}const Be=Object.freeze(Object.defineProperty({__proto__:null,load:me},Symbol.toStringTag,{value:"Module"}));var be=P('<button class="svelte-vdfgng"> </button>'),_e=P('<button class="svelte-vdfgng"> </button>'),pe=P('<div class="break svelte-vdfgng"></div> <div class="category"><button class="svelte-vdfgng"> </button></div> <div class="subcategoriesContainer svelte-vdfgng"><div class="subcategories"></div> <div class="subcategories2"></div></div>',1),he=P('<div><div class="filter-container svelte-vdfgng"></div></div>');function Se(v,r){se(r,!1);let h=C(r,"categories",24,()=>[]),o=C(r,"selectedCategory",12,null),l=C(r,"selectedSubcategory",12,null),f=C(r,"selectedSubcategory2",12,null),y=C(r,"imageCounts",24,()=>({})),S=C(r,"currentPage",8,"");const _=["tate","centrepompidou","institutotomieohtake","mca","themuseumofmodernart","mca_australia"];function p(t){return _.includes(t)}function L(t){o()===t?(o(null),l(null),f(null)):(o(t),l(null),f(null))}function w(t){l()===t?l(null):(l(t),f(null))}function k(t){f()===t?f(null):(f(t),l(null))}function H(t){return o()===t&&y()[t]>0}function T(t){return p(S())||y()[t]===0}function O(t,s){return o()==t&&l()===s&&y()[`${t}-${s}`]>0}function Y(t,s){return p(S())||o()!==t||y()[`${t}-${s}`]===0}function g(t,s){return o()===t&&f()===s&&y()[`${t}-${s}`]>0}function D(t,s){return p(S())||o()!==t||y()[`${t}-${s}`]===0}ce();var j=he(),N=m(j);V(N,5,h,Z,(t,s)=>{let c=()=>e(s).category,b=()=>e(s).subcategory,F=()=>e(s).subcategory2;var q=pe(),W=A(oe(q),2),z=m(W);M(()=>z.disabled=T(c()));const R=K(()=>H(c()));var ee=m(z,!0);i(z),i(W);var U=A(W,2),X=m(U);V(X,5,b,Z,(d,E)=>{var I=be();M(()=>I.disabled=Y(c(),e(E)));const te=K(()=>O(c(),e(E)));var ae=m(I,!0);i(I),M(()=>{Q(I,"active",e(te)),B(ae,e(E))}),G("click",I,()=>w(e(E))),x(d,I)}),i(X);var a=A(X,2);V(a,5,F,Z,(d,E)=>{var I=_e();M(()=>I.disabled=D(c(),e(E)));const te=K(()=>g(c(),e(E)));var ae=m(I,!0);i(I),M(()=>{Q(I,"active",e(te)),B(ae,e(E))}),G("click",I,()=>k(e(E))),x(d,I)}),i(a),i(U),M(()=>{Q(z,"active",e(R)),B(ee,c())}),G("click",z,()=>L(c())),x(t,q)}),i(N),i(j),x(v,j),le()}var Ie=P('<div><div class="tooltip svelte-m5auav"><div class="tooltip-content"><p> </p></div></div></div>');function Ce(v,r){let h=C(r,"data",8),o=u(),l=u();function f(w){n(o,w.pageX+5),n(l,w.pageY+5)}var y=Ie();G("mousemove",ie.body,f);var S=m(y),_=m(S),p=m(_),L=m(p);i(p),i(_),i(S),i(y),M(()=>{$(S,"style",`left: ${e(o)??""}px; top: ${e(l)??""}px;`),B(L,`Posted at: ${h()??""}`)}),x(v,y)}var we=P('<img class="gallery-image svelte-le8jot" loading="lazy">'),ke=P("<!> <!>",1),xe=P("<p>No images</p>"),Pe=P('<div class="gallery svelte-le8jot"><p class="gallery-title svelte-le8jot"> </p> <!></div>');function ne(v,r){se(r,!1);let h=C(r,"images",24,()=>[]),o=C(r,"title",8,""),l=C(r,"selectedCategory",24,()=>[]),f=C(r,"selectedSubcategory",24,()=>[]),y=C(r,"selectedSubcategory2",24,()=>[]),S=u([]),_=u(!1);function p(g){window.open(g,"_blank")}function L(g){return l()?f()?g.category===l()&&g.subcategory===f():y()?g.category===l()&&g.subcategory2===y():g.category===l():!1}ce();var w=Pe(),k=m(w),H=m(k,!0);i(k);var T=A(k,2);{var O=g=>{var D=ke(),j=oe(D);V(j,1,h,Z,(s,c)=>{var b=we();const F=K(()=>L(e(c))),q=K(()=>!L(e(c))&&l());M(()=>{$(b,"src",e(c).src),$(b,"alt",`${e(c).type??""} image`),Q(b,"highlighted",e(F)),Q(b,"notHighlighted",e(q))}),ve(b),G("click",b,()=>p(e(c).link)),G("mouseover",b,()=>{n(S,e(c).date),n(_,!0)}),G("mouseleave",b,()=>n(_,!1)),x(s,b)});var N=A(j,2);{var t=s=>{Ce(s,{get data(){return e(S)}})};re(N,s=>{e(_)&&s(t)})}x(g,D)},Y=g=>{var D=xe();x(g,D)};re(T,g=>{h().length>0?g(O):g(Y,!1)})}i(w),M(()=>B(H,o())),x(v,w),le()}var Le=P('<p class="svelte-b83cm4">Loading more images</p>'),He=P('<div class="top-container svelte-b83cm4"><p class="museum-name svelte-b83cm4"><span class="back-arrow svelte-b83cm4"><a>&#10229;</a></span> </p> <p class="title-page svelte-b83cm4">What did they post?</p> <!></div> <div class="gallery-container svelte-b83cm4"><!> <!></div> <!>',1);function Fe(v,r){se(r,!1);const h=u(),o=u(),l=u(),f=u(),y=u();let S=C(r,"data",8),_=u([]),p=u([]),L=u([]),w=u([]),k=u(null),H=u(null),T=u(null),O=u(!1);const Y=30;let g=[{category:"Are there people?",subcategory:["with artwork?"],subcategory2:["person alone?","multiple people?"]},{category:"No people at all?",subcategory2:[]}];function D(){if(e(O))return;n(O,!0);const a=e(o).slice(e(_).length,e(_).length+Y),d=e(l).slice(e(p).length,e(p).length+Y);n(_,[...e(_),...a]),n(p,[...e(p),...d]),n(O,!1)}function j(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight-500&&D()}fe(async()=>(D(),window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)));function N(a){return(!e(k)||a.category===e(k))&&(!e(H)||a.subcategory===e(H))&&(!e(T)||a.subcategory2===e(T))}J(()=>(e(h),e(o),e(l),ue(S())),()=>{(a=>(n(h,a.museum),n(o,a.taggedImages),n(l,a.postedImages)))(S())}),J(()=>e(o),()=>{n(w,e(o).filter(N))}),J(()=>e(l),()=>{n(L,e(l).filter(N))}),J(()=>(e(w),e(L)),()=>{n(f,[...e(w),...e(L)])}),J(()=>e(f),()=>{n(y,e(f).reduce((a,d)=>(a[d.category]=(a[d.category]||0)+1,a[`${d.category}-${d.subcategory}`]=(a[`${d.category}-${d.subcategory}`]||0)+1,a[`${d.category}-${d.subcategory2}`]=(a[`${d.category}-${d.subcategory2}`]||0)+1,a),{}))}),ge(),ce();var t=He();G("scroll",de,j);var s=oe(t),c=m(s),b=m(c),F=m(b);$(F,"href",`${ye??""}/`),i(b);var q=A(b);i(c);var W=A(c,4);Se(W,{categories:g,get imageCounts(){return e(y)},get currentPage(){return e(h)},get selectedCategory(){return e(k)},set selectedCategory(a){n(k,a)},get selectedSubcategory(){return e(H)},set selectedSubcategory(a){n(H,a)},get selectedSubcategory2(){return e(T)},set selectedSubcategory2(a){n(T,a)},$$legacy:!0}),i(s);var z=A(s,2),R=m(z);ne(R,{get images(){return e(p)},title:"Posted by the museum",get selectedCategory(){return e(k)},get selectedSubcategory(){return e(H)},get selectedSubcategory2(){return e(T)}});var ee=A(R,2);ne(ee,{get images(){return e(_)},title:"Tagged the museum",get selectedCategory(){return e(k)},get selectedSubcategory(){return e(H)},get selectedSubcategory2(){return e(T)}}),i(z);var U=A(z,2);{var X=a=>{var d=Le();x(a,d)};re(U,a=>{e(O)&&a(X)})}M(()=>B(q,`@${e(h)??""}`)),x(v,t),le()}export{Fe as component,Be as universal};
