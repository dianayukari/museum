import{a as x,t as P}from"../chunks/disclose-version.B6l5ZyFo.js";import"../chunks/legacy.DRA0ICbF.js";import{V as se,Y as le,Z as m,$ as A,W as oe,X as M,_ as i,g as e,ak as Z,aD as ie,aE as u,a4 as n,aF as V,aG as ge,aH as de,e as ue}from"../chunks/runtime.Dl1wjfhC.js";import{e as Y,s as X}from"../chunks/render.DuD_MSXo.js";import{p as C,i as re}from"../chunks/props.ClKnKXRJ.js";import{s as $,h as ve}from"../chunks/attributes.BMi6SvAX.js";import{i as ce}from"../chunks/lifecycle.DP5prBQB.js";import{o as fe}from"../chunks/index-client.BKZ7vUi8.js";import{e as R,i as U}from"../chunks/each.D9vaxP9s.js";import{b as ye}from"../chunks/paths.cPesr6PS.js";function J(v,r,h){if(h){if(v.classList.contains(r))return;v.classList.add(r)}else{if(!v.classList.contains(r))return;v.classList.remove(r)}}function me({data:v}){return{...v,taggedImages:v.taggedImages||[],postedImages:v.postedImages||[]}}const Ne=Object.freeze(Object.defineProperty({__proto__:null,load:me},Symbol.toStringTag,{value:"Module"}));var be=P('<button class="svelte-vdfgng"> </button>'),_e=P('<button class="svelte-vdfgng"> </button>'),pe=P('<div class="break svelte-vdfgng"></div> <div class="category"><button class="svelte-vdfgng"> </button></div> <div class="subcategoriesContainer svelte-vdfgng"><div class="subcategories"></div> <div class="subcategories2"></div></div>',1),he=P('<div><div class="filter-container svelte-vdfgng"></div></div>');function Se(v,r){se(r,!1);let h=C(r,"categories",24,()=>[]),o=C(r,"selectedCategory",12,null),l=C(r,"selectedSubcategory",12,null),f=C(r,"selectedSubcategory2",12,null),y=C(r,"imageCounts",24,()=>({})),S=C(r,"currentPage",8,"");const _=["tate","centrepompidou","institutotomieohtake","mca","themuseumofmodernart","mca_australia"];function p(t){return _.includes(t)}function L(t){o()===t?(o(null),l(null),f(null)):(o(t),l(null),f(null))}function w(t){l()===t?l(null):(l(t),f(null))}function k(t){f()===t?f(null):(f(t),l(null))}function H(t){return o()===t&&y()[t]>0}function T(t){return p(S())||y()[t]===0}function O(t,s){return o()==t&&l()===s&&y()[`${t}-${s}`]>0}function N(t,s){return p(S())||o()!==t||y()[`${t}-${s}`]===0}function g(t,s){return o()===t&&f()===s&&y()[`${t}-${s}`]>0}function D(t,s){return p(S())||o()!==t||y()[`${t}-${s}`]===0}ce();var j=he(),G=m(j);R(G,5,h,U,(t,s)=>{let c=()=>e(s).category,b=()=>e(s).subcategory,q=()=>e(s).subcategory2;var W=pe(),B=A(oe(W),2),z=m(B);M(()=>z.disabled=T(c()));const K=Z(()=>H(c()));var ee=m(z,!0);i(z),i(B);var Q=A(B,2),F=m(Q);R(F,5,b,U,(d,E)=>{var I=be();M(()=>I.disabled=N(c(),e(E)));const te=Z(()=>O(c(),e(E)));var ae=m(I,!0);i(I),M(()=>{J(I,"active",e(te)),X(ae,e(E))}),Y("click",I,()=>w(e(E))),x(d,I)}),i(F);var a=A(F,2);R(a,5,q,U,(d,E)=>{var I=_e();M(()=>I.disabled=D(c(),e(E)));const te=Z(()=>g(c(),e(E)));var ae=m(I,!0);i(I),M(()=>{J(I,"active",e(te)),X(ae,e(E))}),Y("click",I,()=>k(e(E))),x(d,I)}),i(a),i(Q),M(()=>{J(z,"active",e(K)),X(ee,c())}),Y("click",z,()=>L(c())),x(t,W)}),i(G),i(j),x(v,j),le()}var Ie=P('<div><div class="tooltip svelte-m5auav"><div class="tooltip-content"><p> </p></div></div></div>');function Ce(v,r){let h=C(r,"data",8),o=u(),l=u();function f(w){n(o,w.pageX+5),n(l,w.pageY+5)}var y=Ie();Y("mousemove",ie.body,f);var S=m(y),_=m(S),p=m(_),L=m(p);i(p),i(_),i(S),i(y),M(()=>{$(S,"style",`left: ${e(o)??""}px; top: ${e(l)??""}px;`),X(L,`Posted at: ${h()??""}`)}),x(v,y)}var we=P('<img class="gallery-image svelte-1sa2h7j" loading="lazy">'),ke=P("<!> <!>",1),xe=P("<p>No tagged images</p>"),Pe=P('<div class="gallery svelte-1sa2h7j"><p class="gallery-title svelte-1sa2h7j"> </p> <!></div>');function ne(v,r){se(r,!1);let h=C(r,"images",24,()=>[]),o=C(r,"title",8,""),l=C(r,"selectedCategory",24,()=>[]),f=C(r,"selectedSubcategory",24,()=>[]),y=C(r,"selectedSubcategory2",24,()=>[]),S=u([]),_=u(!1);function p(g){window.open(g,"_blank")}function L(g){return l()?f()?g.category===l()&&g.subcategory===f():y()?g.category===l()&&g.subcategory2===y():g.category===l():!1}ce();var w=Pe(),k=m(w),H=m(k,!0);i(k);var T=A(k,2);{var O=g=>{var D=ke(),j=oe(D);R(j,1,h,U,(s,c)=>{var b=we();const q=Z(()=>L(e(c))),W=Z(()=>!L(e(c))&&l());M(()=>{$(b,"src",e(c).src),$(b,"alt",`${e(c).type??""} image`),J(b,"highlighted",e(q)),J(b,"notHighlighted",e(W))}),ve(b),Y("click",b,()=>p(e(c).link)),Y("mouseover",b,()=>{n(S,e(c).date),n(_,!0)}),Y("mouseleave",b,()=>n(_,!1)),x(s,b)});var G=A(j,2);{var t=s=>{Ce(s,{get data(){return e(S)}})};re(G,s=>{e(_)&&s(t)})}x(g,D)},N=g=>{var D=xe();x(g,D)};re(T,g=>{h().length>0?g(O):g(N,!1)})}i(w),M(()=>X(H,o())),x(v,w),le()}var Le=P('<p class="svelte-b83cm4">Loading more images</p>'),He=P('<div class="top-container svelte-b83cm4"><p class="museum-name svelte-b83cm4"><span class="back-arrow svelte-b83cm4"><a>&#10229;</a></span> </p> <p class="title-page svelte-b83cm4">What did they post?</p> <!></div> <div class="gallery-container svelte-b83cm4"><!> <!></div> <!>',1);function We(v,r){se(r,!1);const h=u(),o=u(),l=u(),f=u(),y=u();let S=C(r,"data",8),_=u([]),p=u([]),L=u([]),w=u([]),k=u(null),H=u(null),T=u(null),O=u(!1);const N=30;let g=[{category:"Are there people?",subcategory:["with artwork?"],subcategory2:["person alone?","multiple people?"]},{category:"No people at all?",subcategory2:[]}];function D(){if(e(O))return;n(O,!0);const a=e(o).slice(e(_).length,e(_).length+N),d=e(l).slice(e(p).length,e(p).length+N);n(_,[...e(_),...a]),n(p,[...e(p),...d]),n(O,!1)}function j(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight-500&&D()}fe(async()=>(D(),window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)));function G(a){return(!e(k)||a.category===e(k))&&(!e(H)||a.subcategory===e(H))&&(!e(T)||a.subcategory2===e(T))}V(()=>(e(h),e(o),e(l),ue(S())),()=>{(a=>(n(h,a.museum),n(o,a.taggedImages),n(l,a.postedImages)))(S())}),V(()=>e(o),()=>{n(w,e(o).filter(G))}),V(()=>e(l),()=>{n(L,e(l).filter(G))}),V(()=>(e(w),e(L)),()=>{n(f,[...e(w),...e(L)])}),V(()=>e(f),()=>{n(y,e(f).reduce((a,d)=>(a[d.category]=(a[d.category]||0)+1,a[`${d.category}-${d.subcategory}`]=(a[`${d.category}-${d.subcategory}`]||0)+1,a[`${d.category}-${d.subcategory2}`]=(a[`${d.category}-${d.subcategory2}`]||0)+1,a),{}))}),ge(),ce();var t=He();Y("scroll",de,j);var s=oe(t),c=m(s),b=m(c),q=m(b);$(q,"href",`${ye??""}/`),i(b);var W=A(b);i(c);var B=A(c,4);Se(B,{categories:g,get imageCounts(){return e(y)},get currentPage(){return e(h)},get selectedCategory(){return e(k)},set selectedCategory(a){n(k,a)},get selectedSubcategory(){return e(H)},set selectedSubcategory(a){n(H,a)},get selectedSubcategory2(){return e(T)},set selectedSubcategory2(a){n(T,a)},$$legacy:!0}),i(s);var z=A(s,2),K=m(z);ne(K,{get images(){return e(p)},title:"Posted by the museum",get selectedCategory(){return e(k)},get selectedSubcategory(){return e(H)},get selectedSubcategory2(){return e(T)}});var ee=A(K,2);ne(ee,{get images(){return e(_)},title:"Tagged the museum",get selectedCategory(){return e(k)},get selectedSubcategory(){return e(H)},get selectedSubcategory2(){return e(T)}}),i(z);var Q=A(z,2);{var F=a=>{var d=Le();x(a,d)};re(Q,a=>{e(O)&&a(F)})}M(()=>X(W,`@${e(h)??""}`)),x(v,t),le()}export{We as component,Ne as universal};
