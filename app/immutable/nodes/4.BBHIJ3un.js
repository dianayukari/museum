import{a as P,t as H}from"../chunks/disclose-version.CjieH5zv.js";import"../chunks/legacy.0kSp2tK0.js";import{aE as R,l as n,s as I,ac as S,m as r,g as e,aF as x,a5 as h,G as F,J as L,av as T,aa as q,aG as U,aH as V,e as W}from"../chunks/runtime.CuEH_eaS.js";import{i as j}from"../chunks/lifecycle.B7sIu-hY.js";import{p as M,i as Y}from"../chunks/props.BEVo-pAd.js";import{o as Z}from"../chunks/index-client.HV5y0lW-.js";import{s as N}from"../chunks/render.DYYjuPAP.js";import{e as B,i as J}from"../chunks/Tooltip.svelte_svelte_type_style_lang.bG-MgEn5.js";import{e as D}from"../chunks/events.ByYqDUyK.js";import{t as z}from"../chunks/class.Bvena8yX.js";import{s as E,h as $}from"../chunks/attributes.fxCn_VSR.js";import"../chunks/paths.DxsXKRu3.js";var ee=H('<div><div class="tooltip svelte-mw3vg1"><div class="tooltip-content"><p class="svelte-mw3vg1">Place: <br><span class="hover-value svelte-mw3vg1"> </span></p> <p class="svelte-mw3vg1">Position: <br><span class="hover-value svelte-mw3vg1"> </span></p></div></div></div>');function te(f,o){let v=M(o,"place",8),d=M(o,"position",8),g=x(),c=x();const _={front:"Giving their back to the artwork",back:"Facing the artwork",sitting:"Sitting",side:"On their side",other:"Unusual"},m={tate:"Tate Modern",mplusmuseum:"M+ Museum",centrepompidou:"Centre Pompidou",institutotomieohtake:"Instituto Tomie Ohtake",themuseumofmodernart:"MoMA",mca_australia:"MCA Australia"};function w(p){h(g,p.pageX+5),h(c,p.pageY+5)}function y(p){return _[p]||m[p]||p}var t=ee();D("mousemove",R.body,w);var i=n(t),u=n(i),s=n(u),b=I(n(s),2),O=n(b,!0);S(()=>N(O,y(v()))),r(b),r(s);var a=I(s,2),C=I(n(a),2),l=n(C,!0);S(()=>N(l,y(d()))),r(C),r(a),r(u),r(i),r(t),S(()=>E(i,"style",`left: ${e(g)??""}px; top: ${e(c)??""}px;`)),P(f,t)}function ae({data:f}){return{...f,images:f.images||[]}}const xe=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));var re=H('<div class="category"><button class="svelte-1vgh9wm"> </button></div>'),oe=H('<div><div class="filter-container svelte-1vgh9wm"></div></div>');function ie(f,o){F(o,!1);let v=M(o,"categories",24,()=>[]),d=M(o,"selectedCategory",12,null),g=M(o,"imageCounts",24,()=>({}));function c(t){d()===t.category?d(null):d(t.category)}function _(t){return d()===t.category&&g()[t.category]>0}function m(t){return g()[t.category]===0}j();var w=oe(),y=n(w);B(y,5,v,J,(t,i)=>{var u=re(),s=n(u);S(()=>s.disabled=m(e(i)));const b=T(()=>_(e(i)));var O=n(s,!0);r(s),r(u),S(()=>{z(s,"active",e(b)),N(O,e(i).name)}),D("click",s,()=>c(e(i))),P(t,u)}),r(y),r(w),P(f,w),L()}var se=H('<img class="gallery-image svelte-1mwnvd5" loading="lazy">'),le=H("<!> <!>",1),ne=H("<p>No images</p>"),ce=H('<div class="gallery svelte-1mwnvd5"><p class="gallery-title svelte-1mwnvd5"> </p> <!></div>');function ve(f,o){F(o,!1);let v=M(o,"images",24,()=>[]),d=M(o,"title",8,""),g=M(o,"selectedCategory",24,()=>[]),c=x([]),_=x([]),m=x(!1);function w(a){window.open(a,"_blank")}function y(a){return g()?a.category===g():!1}j();var t=ce(),i=n(t),u=n(i,!0);r(i);var s=I(i,2);{var b=a=>{var C=le(),l=q(C);B(l,1,v,J,(A,G)=>{var k=se();const K=T(()=>y(e(G))),Q=T(()=>!y(e(G))&&g());S(()=>{E(k,"src",e(G).src),E(k,"alt",`${e(G).type??""} image`),z(k,"highlighted",e(K)),z(k,"notHighlighted",e(Q))}),$(k),D("click",k,()=>w(e(G).link)),D("mouseover",k,()=>{h(c,e(G).museum),h(_,e(G).category),h(m,!0)}),D("mouseleave",k,()=>h(m,!1)),P(A,k)});var p=I(l,2);{var X=A=>{te(A,{get place(){return e(c)},get position(){return e(_)}})};Y(p,A=>{e(m)&&A(X)})}P(a,C)},O=a=>{var C=ne();P(a,C)};Y(s,a=>{v().length>0?a(b):a(O,!1)})}r(t),S(()=>N(u,d())),P(f,t),L()}var ge=H('<div class="top-container"><p class="title svelte-1o6x0og">How were people positioned in their pictures with artwork?</p> <div class="filter-container svelte-1o6x0og"><!></div></div> <div class="gallery-container svelte-1o6x0og"><!></div>',1);function Me(f,o){F(o,!1);const v=x(),d=x();let g=M(o,"data",8),c=x([]),_=x(null),m=!1;const w=50;let y=[{category:"front",name:"Giving their back to the artwork"},{category:"back",name:"Facing the artwork"},{category:"sitting",name:"Sitting"},{category:"side",name:"On their side"},{category:"other",name:"Unusual"}];function t(){if(m)return;m=!0;const l=e(v).slice(e(c).length,e(c).length+w);h(c,[...e(c),...l]),m=!1}function i(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight-500&&t()}Z(async()=>(t(),window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i))),U(()=>(e(v),W(g())),()=>{(l=>h(v,l.images))(g())}),U(()=>e(v),()=>{h(d,e(v).reduce((l,p)=>(l[p.category]=(l[p.category]||0)+1,l),{}))}),V(),j();var u=ge(),s=q(u),b=I(n(s),2),O=n(b);ie(O,{categories:y,get imageCounts(){return e(d)},currentPage:"",get selectedCategory(){return e(_)},set selectedCategory(l){h(_,l)},$$legacy:!0}),r(b),r(s);var a=I(s,2),C=n(a);ve(C,{get images(){return e(c)},get selectedCategory(){return e(_)}}),r(a),P(f,u),L()}export{Me as component,xe as universal};
